this.IHD=this.IHD||{},this.IHD.templates=this.IHD.templates||{},this.IHD.templates.portfolio=Handlebars.template({1:function(e,a,l,n,t,i,s){var o;return'      <div class="image-container">\n        '+(null!=(o=l.each.call(null!=a?a:{},null!=a?a.files:a,{name:"each",hash:{},fn:e.program(2,t,0,i,s),inverse:e.noop,data:t}))?o:"")+"\n      </div>\n"},2:function(e,a,l,n,t,i,s){var o=e.lambda,c=e.escapeExpression;return'<img src="'+c(o(null!=s[1]?s[1].portfolio_base_path:s[1],a))+"images/portfolio/"+c(o(a,a))+'" />'},4:function(e,a,l,n,t){return'          <span class="label label-default label-location">'+e.escapeExpression(e.lambda(a,a))+"</span>\n"},6:function(e,a,l,n,t){return'          <span class="label label-default label-code">'+e.escapeExpression(e.lambda(a,a))+"</span>\n"},8:function(e,a,l,n,t){return'          <span class="label label-default label-discipline">'+e.escapeExpression(e.lambda(a,a))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,a,l,n,t,i,s){var o,c,r=null!=a?a:{},p=l.helperMissing,d="function",u=e.escapeExpression;return'<div class="portfolio-item" data-locations="'+u((c=null!=(c=l.serializedLocations||(null!=a?a.serializedLocations:a))?c:p,typeof c===d?c.call(r,{name:"serializedLocations",hash:{},data:t}):c))+'" data-codes="'+u((c=null!=(c=l.serializedCodes||(null!=a?a.serializedCodes:a))?c:p,typeof c===d?c.call(r,{name:"serializedCodes",hash:{},data:t}):c))+'" data-disciplines="'+u((c=null!=(c=l.serializedDisciplines||(null!=a?a.serializedDisciplines:a))?c:p,typeof c===d?c.call(r,{name:"serializedDisciplines",hash:{},data:t}):c))+'">\n  <div class="card">\n'+(null!=(o=l["if"].call(r,null!=(o=null!=a?a.files:a)?o.length:o,{name:"if",hash:{},fn:e.program(1,t,0,i,s),inverse:e.noop,data:t}))?o:"")+'\n    <div class="card-content">\n      <h2>'+u((c=null!=(c=l.title||(null!=a?a.title:a))?c:p,typeof c===d?c.call(r,{name:"title",hash:{},data:t}):c))+'</h2>\n      <p class="labels">\n'+(null!=(o=l.each.call(r,null!=a?a.locationNames:a,{name:"each",hash:{},fn:e.program(4,t,0,i,s),inverse:e.noop,data:t}))?o:"")+(null!=(o=l.each.call(r,null!=a?a.codeNames:a,{name:"each",hash:{},fn:e.program(6,t,0,i,s),inverse:e.noop,data:t}))?o:"")+(null!=(o=l.each.call(r,null!=a?a.disciplineNames:a,{name:"each",hash:{},fn:e.program(8,t,0,i,s),inverse:e.noop,data:t}))?o:"")+"      </p>\n    </div>\n  </div>\n</div>\n"},useData:!0,useDepths:!0}),this.IHD.templates.portfolio_filter_button=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,a,l,n,t){var i,s=null!=a?a:{},o=l.helperMissing,c="function",r=e.escapeExpression;return'<li data-location="'+r((i=null!=(i=l.location_code||(null!=a?a.location_code:a))?i:o,typeof i===c?i.call(s,{name:"location_code",hash:{},data:t}):i))+'">\n  <a class="flag flag-'+r((i=null!=(i=l.location_code||(null!=a?a.location_code:a))?i:o,typeof i===c?i.call(s,{name:"location_code",hash:{},data:t}):i))+'" data-toggle="tooltip" data-placement="top" title="'+r((i=null!=(i=l.location_name||(null!=a?a.location_name:a))?i:o,typeof i===c?i.call(s,{name:"location_name",hash:{},data:t}):i))+'">'+r((i=null!=(i=l.location_name||(null!=a?a.location_name:a))?i:o,typeof i===c?i.call(s,{name:"location_name",hash:{},data:t}):i))+"</a>\n</li>\n"},useData:!0}),this.IHD.templates.type_filter_button=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,a,l,n,t){var i,s=null!=a?a:{},o=l.helperMissing,c="function",r=e.escapeExpression;return'<li data-type="'+r((i=null!=(i=l.type_code||(null!=a?a.type_code:a))?i:o,typeof i===c?i.call(s,{name:"type_code",hash:{},data:t}):i))+'">\n  <a>'+r((i=null!=(i=l.type_name||(null!=a?a.type_name:a))?i:o,typeof i===c?i.call(s,{name:"type_name",hash:{},data:t}):i))+"</a>\n</li>\n"},useData:!0}),function(e,a,l){"use strict";var n=e("#porfolio_grid"),t=e('#portfolio_filters select[name="location"]'),i=e('#portfolio_filters select[name="discipline"]'),s=e('#portfolio_filters select[name="type"]');e.getJSON(l.base_path+"scripts/portfolio-data.json",function(o){var c=function(e){return Object.keys(e).map(function(a){return{id:a,text:e[a][l.lang]}})};t.select2({data:c(o.countries),minimumResultsForSearch:1/0,theme:"classic"}),i.select2({data:c(o.disciplines),minimumResultsForSearch:1/0,theme:"classic"}),s.select2({data:c(o.codes),minimumResultsForSearch:1/0,theme:"classic"});e.each(o.items,function(e,a){var t=void 0===a.disciplines?[]:a.disciplines.split(""),i=void 0===a.codes?[]:a.codes.split(""),s={portfolio_base_path:l.base_path,serializedLocations:JSON.stringify([a.country_en]),locationNames:[a["country_"+l.lang]],serializedDisciplines:JSON.stringify(t),disciplineNames:t.map(function(e){return o.disciplines[e][l.lang]}),serializedCodes:JSON.stringify(i),codeNames:i.map(function(e){return o.codes[e][l.lang]}),files:a.files,title:a["title_"+l.lang]};n.append(IHD.templates.portfolio(s))});var r=new a(n[0],{itemSelector:".portfolio-item"}),p=function(){var l,n=[],o=[],c=[];(l=t.val())&&"-1"!==l&&n.push(l),(l=i.val())&&"-1"!==l&&o.push(l),(l=s.val())&&"-1"!==l&&c.push(l),n.length+o.length+c.length>0?r.filter(function(a){var l=e(a);return!(null!==n&&_.intersection(l.data("locations"),n).length!==n.length||null!==o&&_.intersection(l.data("disciplines"),o).length!==o.length||null!==c&&_.intersection(l.data("codes"),c).length!==c.length)}):r.filter(a.ALL_ITEMS)};e("#portfolio_filters ").on("change","select",p)})}(jQuery,window.shuffle,portfolio_conf);