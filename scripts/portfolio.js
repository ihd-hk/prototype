this.IHD=this.IHD||{},this.IHD.templates=this.IHD.templates||{},this.IHD.templates.portfolio=Handlebars.template({1:function(e,l,a,n,t){return'          <span class="label label-default">'+e.escapeExpression(e.lambda(l,l))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,l,a,n,t){var i,o,s=null!=l?l:{},c=a.helperMissing,r="function",p=e.escapeExpression;return'<div class="portfolio-item" data-locations="'+p((o=null!=(o=a.serializedLocations||(null!=l?l.serializedLocations:l))?o:c,typeof o===r?o.call(s,{name:"serializedLocations",hash:{},data:t}):o))+'" data-codes="'+p((o=null!=(o=a.serializedCodes||(null!=l?l.serializedCodes:l))?o:c,typeof o===r?o.call(s,{name:"serializedCodes",hash:{},data:t}):o))+'" data-disciplines="'+p((o=null!=(o=a.serializedDisciplines||(null!=l?l.serializedDisciplines:l))?o:c,typeof o===r?o.call(s,{name:"serializedDisciplines",hash:{},data:t}):o))+'">\n  <div class="inner">\n    <div class="info">\n      <h2>'+p((o=null!=(o=a.title_en||(null!=l?l.title_en:l))?o:c,typeof o===r?o.call(s,{name:"title_en",hash:{},data:t}):o))+"</h2>\n      <p>"+p((o=null!=(o=a.type||(null!=l?l.type:l))?o:c,typeof o===r?o.call(s,{name:"type",hash:{},data:t}):o))+'</p>\n      <p class="labels">\n'+(null!=(i=a.each.call(s,null!=l?l.locationNames:l,{name:"each",hash:{},fn:e.program(1,t,0),inverse:e.noop,data:t}))?i:"")+(null!=(i=a.each.call(s,null!=l?l.codeNames:l,{name:"each",hash:{},fn:e.program(1,t,0),inverse:e.noop,data:t}))?i:"")+(null!=(i=a.each.call(s,null!=l?l.disciplineNames:l,{name:"each",hash:{},fn:e.program(1,t,0),inverse:e.noop,data:t}))?i:"")+"      </p>\n    </div>\n  </div>\n</div>\n"},useData:!0}),this.IHD.templates.portfolio_filter_button=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,l,a,n,t){var i,o=null!=l?l:{},s=a.helperMissing,c="function",r=e.escapeExpression;return'<li data-location="'+r((i=null!=(i=a.location_code||(null!=l?l.location_code:l))?i:s,typeof i===c?i.call(o,{name:"location_code",hash:{},data:t}):i))+'">\n  <a class="flag flag-'+r((i=null!=(i=a.location_code||(null!=l?l.location_code:l))?i:s,typeof i===c?i.call(o,{name:"location_code",hash:{},data:t}):i))+'" data-toggle="tooltip" data-placement="top" title="'+r((i=null!=(i=a.location_name||(null!=l?l.location_name:l))?i:s,typeof i===c?i.call(o,{name:"location_name",hash:{},data:t}):i))+'">'+r((i=null!=(i=a.location_name||(null!=l?l.location_name:l))?i:s,typeof i===c?i.call(o,{name:"location_name",hash:{},data:t}):i))+"</a>\n</li>\n"},useData:!0}),this.IHD.templates.type_filter_button=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,l,a,n,t){var i,o=null!=l?l:{},s=a.helperMissing,c="function",r=e.escapeExpression;return'<li data-type="'+r((i=null!=(i=a.type_code||(null!=l?l.type_code:l))?i:s,typeof i===c?i.call(o,{name:"type_code",hash:{},data:t}):i))+'">\n  <a>'+r((i=null!=(i=a.type_name||(null!=l?l.type_name:l))?i:s,typeof i===c?i.call(o,{name:"type_name",hash:{},data:t}):i))+"</a>\n</li>\n"},useData:!0}),function(e,l){"use strict";var a=e("#porfolio_grid"),n=e('#portfolio_filters select[name="location"]'),t=e('#portfolio_filters select[name="discipline"]'),i=e('#portfolio_filters select[name="type"]');e.getJSON("scripts/portfolio-data.json",function(o){var s=function(e){return Object.keys(e).map(function(l){return{id:l,text:e[l]}})};n.select2({data:s(o.countries),placeholder:"Country",minimumResultsForSearch:1/0,allowClear:!0,theme:"classic"}),t.select2({data:s(o.disciplines),placeholder:"Discipline",minimumResultsForSearch:1/0,allowClear:!0,theme:"classic"}),i.select2({data:s(o.codes),placeholder:"Type",minimumResultsForSearch:1/0,allowClear:!0,theme:"classic"});e.each(o.items,function(e,l){l.serializedLocations=JSON.stringify([l.country_en]),l.locationNames=[l.country_en];var n=void 0===l.disciplines?[]:l.disciplines.split("");l.serializedDisciplines=JSON.stringify(n),l.disciplineNames=n.map(function(e){return o.disciplines[e]});var t=void 0===l.codes?[]:l.codes.split("");l.serializedCodes=JSON.stringify(t),l.codeNames=t.map(function(e){return o.codes[e]}),a.append(IHD.templates.portfolio(l))});var c=new l(a[0],{itemSelector:".portfolio-item"}),r=function(){var a,o=[],s=[],r=[];(a=n.val())&&o.push(a),(a=t.val())&&s.push(a),(a=i.val())&&r.push(a),o.length+s.length+r.length>0?c.filter(function(l){var a=e(l);return!(null!==o&&_.intersection(a.data("locations"),o).length!==o.length||null!==s&&_.intersection(a.data("disciplines"),s).length!==s.length||null!==r&&_.intersection(a.data("codes"),r).length!==r.length)}):c.filter(l.ALL_ITEMS)};e("#portfolio_filters ").on("change","select",r)})}(jQuery,window.shuffle);